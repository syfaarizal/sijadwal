<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Tambah Jadwal Kuliah</title>
  <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
  <div class="container">
    <h1>‚ûï Tambah Jadwal Kuliah</h1>
    <form id="formTambah" class="form-card">
      <label>Mata Kuliah:</label>
      <input type="text" name="course" placeholder="Contoh: Basis Data" required>

      <label>Dosen:</label>
      <input type="text" name="lecturer" placeholder="Contoh: Dr. Budi Santoso" required>

      <label>Ruang:</label>
      <input type="text" name="room" placeholder="Contoh: Lab 1" required>

      <label>Kelas:</label>
      <input type="text" name="class" placeholder="Contoh: TI-1A" required>

      <label>Hari:</label>
      <select name="day" required>
        <option value="">-- Pilih Hari --</option>
        <option>Senin</option>
        <option>Selasa</option>
        <option>Rabu</option>
        <option>Kamis</option>
        <option>Jumat</option>
      </select>

      <label>Jam Mulai:</label>
      <input type="time" name="start_time" required>

      <label>Jam Selesai:</label>
      <input type="time" name="end_time" required>

      <button type="submit">üíæ Simpan Jadwal</button>
    </form>

    <p class="back-link"><a href="index.html">‚¨Ö Kembali ke Daftar Jadwal</a></p>
  </div>

  <script>
    document.getElementById('formTambah').addEventListener('submit', async function(e) {
        e.preventDefault();

        const formData = new FormData(this);

        try {
            const res = await fetch("http://localhost/sijadwal/api/jadwal_add.php", {
              method: 'POST',
              body: formData
            });

            const result = await res.json();
            if (result.success) {
              alert("‚úÖ Jadwal berhasil ditambahkan!");
              window.location.href = "index.html";
            } else {
              alert("‚ùå Gagal menambahkan jadwal: " + result.message);
            }
        } catch (err) {
            alert("‚ö† Error: " + err);
        }
    });
  </script>
</body>
</html>
